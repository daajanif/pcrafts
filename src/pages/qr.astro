---
// QR Page with wlo.link style - Dark Background with WhatsApp Button
import TinyLayout from '../layouts/TinyLayout.astro';

// Company profile data
const profile = {
  logo: "/images/logo.png",  
  name: "Precision Crafts - بريسيجن كرافتس",  
  username: "@precisioncrafts",  
  verified: true
};

// Links for your buttons - with WhatsApp added
const links = [
  {
    label: "Whatsapp - واتساب",
    url: "https://wa.me/966508965408", // Your WhatsApp number
    subtitle: "Chat with us on WhatsApp",
    icon: "whatsapp",
    trackingId: "contact-whatsapp"
  },
  {
    label: "Contact Us - اتصل بنا",
    url: "tel:+966508965408", // Replace with your actual phone number
    subtitle: "Get in touch with our team",
    icon: "phone",
    trackingId: "contact-call"
  },
  {
    label: "View Our Website - تصفح موقعنا",
    url: "/",
    subtitle: "Explore our services",
    icon: "globe",
    trackingId: "view-website"
  }
];

// SEO metadata
const title = "Precision Crafts | Quick Links";
const description = "Connect with Precision Crafts - Your trusted construction partner";
---

<TinyLayout title={title} description={description}>
  <!-- Custom styles specific to this page -->
  <style is:global>
    /* Reset and base styles */
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      height: 100%;
      overflow-x: hidden;
      color: white;
    }
    
    *, *::before, *::after {
      box-sizing: border-box;
    }
  </style>
  
  <style>
    /* Page background - darker version */
    .page-wrapper {
      min-height: 100vh;
      width: 100%;
      background: linear-gradient(135deg, #070c18 0%, #01121f 100%);
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px 16px 80px;
    }
    
    /* Container for content */
    .container {
      width: 100%;
      max-width: 480px;
      margin: 0 auto;
      padding-top: 24px;
      display: flex;
      flex-direction: column;
      position: relative;
      z-index: 1;
    }
    
    /* Profile section */
    .profile {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 32px;
    }
    
    .profile-picture {
      width: 96px;
      height: 96px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      padding: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }
    
    .profile-picture img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 50%;
    }
    
    .profile-name-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 4px;
    }
    
    .profile-name {
      font-size: 24px;
      font-weight: 700;
      margin: 0;
    }
    
    .badge {
      margin-left: 8px;
      display: flex;
    }
    
    .profile-username {
      font-size: 16px;
      opacity: 0.9;
      margin: 4px 0 0;
      color: rgba(255, 255, 255, 0.8);
    }
    
    /* Links section - darker background with more contrast */
    .links {
      display: flex;
      flex-direction: column;
      gap: 16px;
      width: 100%;
      margin-bottom: 40px;
    }
    
    .link-button {
      display: flex;
      align-items: center;
      padding: 16px;
      background-color: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 12px;
      text-decoration: none;
      color: white;
      transition: all 0.2s ease;
    }
    
    .link-button:hover, .link-button:focus {
      background-color: rgba(255, 255, 255, 0.15);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    
    .link-button:active {
      transform: translateY(0);
    }
    
    /* WhatsApp button with specific styling */
    .whatsapp-button {
      background-color: rgba(37, 211, 102, 0.15);
      border-color: rgba(37, 211, 102, 0.3);
    }
    
    .whatsapp-button:hover, .whatsapp-button:focus {
      background-color: rgba(37, 211, 102, 0.25);
    }
    
    .whatsapp-icon {
      background-color: rgba(37, 211, 102, 0.2);
    }
    
    .link-icon {
      min-width: 40px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 16px;
    }
    
    .link-icon svg {
      width: 20px;
      height: 20px;
      color: white;
    }
    
    .link-icon img {
      width: 20px;
      height: 20px;
      object-fit: contain;
    }
    
    .link-content {
      display: flex;
      flex-direction: column;
    }
    
    .link-title {
      font-weight: 600;
      font-size: 16px;
      margin: 0 0 2px;
    }
    
    .link-subtitle {
      font-size: 14px;
      opacity: 0.7;
      margin: 0;
    }
    
    /* Domain display - darker theme */
    .domain-display {
      position: fixed;
      bottom: 24px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      z-index: 10;
    }
    
    .domain-pill {
      background-color: rgba(255, 255, 255, 0.08);
      color: rgba(255, 255, 255, 0.9);
      padding: 12px 24px;
      border-radius: 100px;
      font-weight: 500;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
      font-size: 16px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    
    /* Share button - darker theme */
    .share-button {
      position: absolute;
      top: 0;
      right: 0;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      color: white;
    }
    
    .share-button:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    
    /* Responsive adjustments */
    @media (max-width: 480px) {
      .container {
        padding-top: 16px;
      }
      
      .profile-picture {
        width: 88px;
        height: 88px;
      }
      
      .profile-name {
        font-size: 22px;
        color: white;
      }
      
      .link-button {
        padding: 14px;
      }
      
      .link-icon {
        min-width: 36px;
        width: 36px;
        height: 36px;
        margin-right: 12px;
      }
      
      .domain-pill {
        padding: 10px 20px;
        font-size: 14px;
      }
    }
    
    @media (min-width: 768px) {
      .page-wrapper {
        padding: 40px 24px 100px;
      }
      
      .container {
        padding-top: 32px;
      }
      
      .profile-picture {
        width: 108px;
        height: 108px;
      }
      
      .profile-name {
        font-size: 26px;
        color: white;
      }
      
      .link-button {
        padding: 18px;
      }
      
      .link-content {
        padding-right: 12px;
      }
      
      .link-title {
        font-size: 17px;
      }
    }
  </style>

  <!-- Page wrapper -->
  <div class="page-wrapper">
    <div class="container">
      <!-- Share button -->
      <button id="shareButton" class="share-button" aria-label="Share">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
        </svg>
      </button>
      
      <!-- Profile section -->
      <div class="profile">
        <div class="profile-picture">
          <img src={profile.logo} alt={`${profile.name} logo`} />
        </div>
        
        <div class="profile-name-wrapper">
          <h1 class="profile-name">{profile.name}</h1>
          
          {profile.verified && (
            <div class="badge">
              <img src="/images/icons/gold_badge.svg" alt="Verified" width="22" height="22" />
            </div>
          )}
        </div>
        
        <p class="profile-username">{profile.username}</p>
      </div>
      
      <!-- Links section -->
      <div class="links">
        {links.map((link, index) => (
          <a 
            href={link.url} 
            target={link.url.startsWith('http') ? "_blank" : "_self"} 
            rel={link.url.startsWith('http') ? "noopener noreferrer" : ""}
            class={`link-button ${link.icon === 'whatsapp' ? 'whatsapp-button' : ''}`}
            data-tracking-id={link.trackingId}
          >
            <div class={`link-icon ${link.icon === 'whatsapp' ? 'whatsapp-icon' : ''}`}>
              {link.icon === 'phone' && (
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
              )}
              {link.icon === 'globe' && (
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                </svg>
              )}
              {link.icon === 'whatsapp' && (
                <img src="/images/icons/whatsapp.svg" alt="WhatsApp" width="20" height="20" />
              )}
            </div>
            
            <div class="link-content">
              <h2 class="link-title">{link.label}</h2>
              {link.subtitle && <p class="link-subtitle">{link.subtitle}</p>}
            </div>
          </a>
        ))}
      </div>
    </div>
    
    <!-- Domain display pill -->
    <div class="domain-display">
      <div class="domain-pill">
        p-crafts.com
      </div>
    </div>
  </div>
</TinyLayout>

<script>
  // Share functionality
  document.getElementById('shareButton')?.addEventListener('click', async () => {
    const currentUrl = window.location.href;
    const title = document.title;
    
    try {
      if (navigator.share) {
        // Use Web Share API if available (mobile)
        await navigator.share({
          title: title,
          url: currentUrl
        });
      } else {
        // Fallback to copying to clipboard
        await navigator.clipboard.writeText(currentUrl);
        alert('Link copied to clipboard!');
      }
    } catch (error) {
      console.error('Error sharing:', error);
    }
  });
</script>