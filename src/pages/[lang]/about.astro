---
import BaseLayout from '../../layouts/BaseLayout.astro';
import MinimalHero from '../../components/MinimalHero.astro';
import TeamSection from '../../components/TeamSection.astro';
import HistorySection from '../../components/HistorySection.astro';
import ValuesSection from '../../components/ValuesSection.astro';
import TestimonialsSection from '../../components/TestimonialsSection.astro';
import CTASection from '../../components/CTASection.astro';

// Define valid language paths
export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'ar' } }
  ];
}

// Get the language parameter from URL
const { lang = 'en' } = Astro.params;

// Define translations - this block MUST come BEFORE any usage of translations
const translations = {
  en: {
    title: "About Precision Crafts - Our Story",
    description: "Learn about our journey, values, and the team behind Precision Crafts",
    navLinks: [
      { name: "Home", url: `/${lang}/` },
      { name: "Services", url: `/${lang}/services` },
      { name: "Projects", url: `/${lang}/projects` },
      { name: "About", url: `/${lang}/about` },
      { name: "Contact", url: `/${lang}/contact` }
    ],
    heroTitle: "About Precision Crafts",
    heroSubtitle: "Our Journey of Excellence",
    heroText: "Since 2010, we've been dedicated to delivering construction excellence with integrity, innovation, and uncompromising quality.",
    history: {
      title: "Our History",
      subtitle: "The Journey So Far",
      timeline: [
        {
          year: "2010",
          title: "Foundation",
          description: "Precision Crafts was founded with a vision to transform the construction industry through precision engineering and craftsmanship."
        },
        {
          year: "2013",
          title: "First Major Project",
          description: "Completed our first major commercial project, establishing our reputation for quality and reliability."
        },
        {
          year: "2016",
          title: "Expansion",
          description: "Expanded our services to include industrial construction and infrastructure development."
        },

      ]
    },
    values: {
      title: "Our Core Values",
      subtitle: "What Drives Us",
      items: [
        {
          title: "Quality",
          description: "We never compromise on quality, ensuring every project meets the highest standards of excellence.",
          icon: "star"
        },
        {
          title: "Integrity",
          description: "We operate with transparency and honesty in all our dealings, building trust with our clients and partners.",
          icon: "shield"
        },
        {
          title: "Innovation",
          description: "We embrace new technologies and methods to constantly improve our construction processes.",
          icon: "lightbulb"
        },
        {
          title: "Safety",
          description: "We prioritize the safety of our team, clients, and the public in every project we undertake.",
          icon: "safety"
        },
        {
          title: "Sustainability",
          description: "We are committed to environmentally responsible construction practices and sustainable solutions.",
          icon: "leaf"
        }
      ]
    },
    team: {
      title: "Our Leadership Team",
      subtitle: "The People Behind Our Success",
      members: [
        {
          name: "Ahmed Al-Farsi",
          position: "Founder & CEO",
          bio: "With over 25 years in construction, Ahmed brings vision and strategic leadership to every project.",
          image: "/images/team/ceo.jpg"
        },
        {
          name: "Sarah Johnson",
          position: "Chief Operations Officer",
          bio: "Sarah ensures operational excellence and timely delivery of all our construction projects.",
          image: "/images/team/coo.jpg"
        },
        {
          name: "Mohammed Rahman",
          position: "Chief Engineer",
          bio: "Mohammed leads our engineering team with innovation and technical expertise.",
          image: "/images/team/engineer.jpg"
        },
        {
          name: "Layla Mahmoud",
          position: "Design Director",
          bio: "Layla brings creativity and functionality together in our architectural designs.",
          image: "/images/team/designer.jpg"
        }
      ]
    },
    testimonials: {
      title: "What Our Clients Say",
      items: [
        {
          quote: "Precision Crafts delivered our commercial tower not just on time, but with exceptional quality that exceeded our expectations.",
          author: "Ibrahim Al-Mansour",
          company: "Al Mansour Development"
        },
        {
          quote: "The attention to detail and problem-solving ability of the Precision Crafts team made our complex industrial facility a success.",
          author: "Fatima Al-Qasimi",
          company: "Gulf Industries Corp"
        },
        {
          quote: "Working with Precision Crafts meant peace of mind throughout our residential project. Their professionalism is unmatched.",
          author: "Robert Chen",
          company: "Azure Living Spaces"
        }
      ]
    },
    partners: {
      title: "Our Trusted Partners",
      subtitle: "Building Excellence Together"
    },
    stats: {
      title: "Our Impact",
      subtitle: "By the Numbers",
      items: [
        { value: "15+", label: "Years of Excellence" },
        { value: "200+", label: "Projects Completed" },
        { value: "95%", label: "Client Satisfaction" },
        { value: "300+", label: "Team Members" }
      ]
    },
    callToAction: {
      title: "Ready to Work With Us?",
      text: "Contact our team today to discuss your construction project needs and discover the Precision Crafts difference.",
      buttonText: "Contact Us"
    },
    footer: {
      address: "123 Construction Avenue, Dubai, UAE",
      phone: "+971 4 123 4567",
      email: "info@precisioncrafts.com",
      copyright: "© 2025 Precision Crafts. All rights reserved."
    }
  },
  ar: {
    title: "عن بريسيجن كرافتس - قصتنا",
    description: "تعرف على رحلتنا وقيمنا والفريق وراء بريسيجن كرافتس",
    navLinks: [
      { name: "الرئيسية", url: `/${lang}/` },
      { name: "الخدمات", url: `/${lang}/services` },
      { name: "المشاريع", url: `/${lang}/projects` },
      { name: "من نحن", url: `/${lang}/about` },
      { name: "اتصل بنا", url: `/${lang}/contact` }
    ],
    heroTitle: "عن بريسيجن كرافتس",
    heroSubtitle: "رحلتنا نحو التميز",
    heroText: "منذ عام 2010، كرسنا جهودنا لتقديم التميز في البناء مع النزاهة والابتكار والجودة التي لا تقبل المساومة.",
    history: {
      title: "تاريخنا",
      subtitle: "رحلتنا حتى الآن",
      timeline: [
        {
          year: "2010",
          title: "التأسيس",
          description: "تأسست بريسيجن كرافتس برؤية لتحويل صناعة البناء من خلال الهندسة الدقيقة والحرفية."
        },
        {
          year: "2013",
          title: "أول مشروع كبير",
          description: "أكملنا أول مشروع تجاري كبير، مما رسخ سمعتنا في الجودة والموثوقية."
        },
        {
          year: "2016",
          title: "التوسع",
          description: "قمنا بتوسيع خدماتنا لتشمل البناء الصناعي وتطوير البنية التحتية."
        },

      ]
    },
    values: {
      title: "قيمنا الأساسية",
      subtitle: "ما الذي يدفعنا",
      items: [
        {
          title: "الجودة",
          description: "نحن لا نساوم أبدًا على الجودة، مما يضمن أن كل مشروع يلبي أعلى معايير التميز.",
          icon: "star"
        },
        {
          title: "النزاهة",
          description: "نعمل بشفافية وصدق في جميع تعاملاتنا، مما يبني الثقة مع عملائنا وشركائنا.",
          icon: "shield"
        },

        {
          title: "السلامة",
          description: "نحن نعطي الأولوية لسلامة فريقنا وعملائنا والجمهور في كل مشروع نقوم به.",
          icon: "safety"
        },
        {
          title: "الاستدامة",
          description: "نحن ملتزمون بممارسات البناء المسؤولة بيئيًا والحلول المستدامة.",
          icon: "leaf"
        }
      ]
    },
    team: {
      title: "فريق القيادة لدينا",
      subtitle: "الأشخاص وراء نجاحنا",
      members: [
        {
          name: "أحمد الفارسي",
          position: "المؤسس والرئيس التنفيذي",
          bio: "مع أكثر من 25 عامًا في البناء، يجلب أحمد الرؤية والقيادة الاستراتيجية لكل مشروع.",
          image: "/images/team/ceo.jpg"
        },
        {
          name: "سارة جونسون",
          position: "رئيسة العمليات",
          bio: "تضمن سارة التميز التشغيلي والتسليم في الوقت المحدد لجميع مشاريع البناء لدينا.",
          image: "/images/team/coo.jpg"
        },
        {
          name: "محمد رحمن",
          position: "كبير المهندسين",
          bio: "يقود محمد فريق الهندسة لدينا بالابتكار والخبرة التقنية.",
          image: "/images/team/engineer.jpg"
        },
        {
          name: "ليلى محمود",
          position: "مديرة التصميم",
          bio: "تجمع ليلى بين الإبداع والوظائف في تصميماتنا المعمارية.",
          image: "/images/team/designer.jpg"
        }
      ]
    },
    testimonials: {
      title: "ما يقوله عملاؤنا",
      items: [
        {
          quote: "قامت بريسيجن كرافتس بتسليم برجنا التجاري ليس فقط في الوقت المحدد، ولكن بجودة استثنائية تجاوزت توقعاتنا.",
          author: "إبراهيم المنصور",
          company: "المنصور للتطوير"
        },
        {
          quote: "الاهتمام بالتفاصيل والقدرة على حل المشكلات لفريق بريسيجن كرافتس جعل منشأتنا الصناعية المعقدة ناجحة.",
          author: "فاطمة القاسمي",
          company: "شركة الخليج للصناعات"
        },
        {
          quote: "العمل مع بريسيجن كرافتس يعني راحة البال طوال مشروعنا السكني. احترافيتهم لا مثيل لها.",
          author: "روبرت تشن",
          company: "مساحات أزور للمعيشة"
        }
      ]
    },
    partners: {
      title: "شركاؤنا الموثوقون",
      subtitle: "نبني التميز معًا"
    },
    callToAction: {
      title: "هل أنت مستعد للعمل معنا؟",
      text: "اتصل بفريقنا اليوم لمناقشة احتياجات مشروع البناء الخاص بك واكتشف الفرق مع بريسيجن كرافتس.",
      buttonText: "اتصل بنا"
    },
  }
};

// TypeScript fix: Type assertion for language key
const t = translations[lang as keyof typeof translations] || translations.en;

// Partner logos
const partnerLogos = [
  { src: "/images/partners/partner1.png", alt: "Partner 1" },
  { src: "/images/partners/partner2.png", alt: "Partner 2" },
  { src: "/images/partners/partner3.png", alt: "Partner 3" },
  { src: "/images/partners/partner4.png", alt: "Partner 4" },
  { src: "/images/partners/partner5.png", alt: "Partner 5" },
  { src: "/images/partners/partner6.png", alt: "Partner 6" }
];
---

<BaseLayout 
  title={t.title} 
  description={t.description} 
  lang={lang}
  navLinks={t.navLinks}
  ctaText={t.callToAction.buttonText}
>
  <!-- HERO SECTION - Using MinimalHero -->
  <MinimalHero
    title={t.heroTitle}
    highlight=""
    text={t.heroText}
    stat={t.heroSubtitle}
    buttons={[
      { text: t.callToAction.buttonText, url: `/${lang}/contact`, style: 'bg-primary-600 text-white hover:bg-primary-700' },
    ]}
    bgColor="bg-gray-50"
    textAlign="center"
    lang={lang}
  />


  <!-- HISTORY SECTION -->
  <HistorySection
    title={t.history.title}
    subtitle={t.history.subtitle}
    timeline={t.history.timeline}
    lang={lang}
  />

  <!-- VALUES SECTION -->
  <ValuesSection
    title={t.values.title}
    subtitle={t.values.subtitle}
    items={t.values.items}
    lang={lang}
  />

  <!-- TEAM SECTION -->
  <!-- <TeamSection
    title={t.team.title}
    subtitle={t.team.subtitle}
    members={t.team.members}
    lang={lang}
  /> -->

  <!-- TESTIMONIALS SECTION -->
  <!-- <TestimonialsSection
    title={t.testimonials.title}
    items={t.testimonials.items}
    lang={lang}
  /> -->

  <!-- PARTNERS SECTION -->
  <!-- <div class={`py-16 bg-gray-50 ${lang === 'ar' ? 'dir-rtl' : ''}`}>
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class={`text-3xl font-bold mb-3 ${lang === 'ar' ? 'font-arabic' : 'font-heading'}`}>{t.partners.title}</h2>
        <p class={`text-lg text-gray-600 ${lang === 'ar' ? 'font-arabic' : ''}`}>{t.partners.subtitle}</p>
      </div> -->
      
      <!-- Logo grid without requiring the SimpleLogoGrid component -->
      <!-- <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
        {partnerLogos.map((logo) => (
          <div class="flex items-center justify-center p-6 rounded-lg bg-white shadow-sm h-24">
            <img 
              src={logo.src} 
              alt={logo.alt} 
              class="max-h-12 max-w-full object-contain filter grayscale hover:grayscale-0 transition-all duration-300" 
            />
          </div>
        ))}
      </div>
    </div>
  </div> -->

  <!-- CALL TO ACTION -->
  <CTASection
    title={t.callToAction.title}
    text={t.callToAction.text}
    buttonText={t.callToAction.buttonText}
    lang={lang}
  />
</BaseLayout>