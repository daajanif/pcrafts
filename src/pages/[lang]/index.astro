---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Navbar from '../../components/Navbar.astro';
import Hero from '../../components/Hero.astro';
import ServicesSection from '../../components/ServicesSection.astro';
import ProjectsSection from '../../components/ProjectsSection.astro';
import WhyChooseUs from '../../components/WhyChooseUs.astro';
import CTASection from '../../components/CTASection.astro';
import LogoSlider from '../../components/LogoSlider.astro';

// Define valid language paths
export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'ar' } }
  ];
}

// Get the language parameter from URL
const { lang = 'en' } = Astro.params;

const logos = [
  { src: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/557257/1.png", alt: "Company 1" },
  { src: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/557257/2.png", alt: "Company 2" },
  { src: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/557257/3.png", alt: "Company 3" },
  { src: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/557257/4.png", alt: "Company 4" },
  { src: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/557257/5.png", alt: "Company 5" },
  { src: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/557257/6.png", alt: "Company 6" },
  { src: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/557257/7.png", alt: "Company 7" },
  
  { src: "https://s3-us-west-2.amazonaws.com/s.cdpn.io/557257/7.png", alt: "Company 7" },


]

// Define translations - this block MUST come BEFORE any usage of translations
const translations = {
  en: {
    title: "Precision Crafts - Construction Excellence",
    description: "Building the future with precision and excellence",
    navLinks: [
      { name: "Home", url: `/${lang}/` },
      { name: "Services", url: `/${lang}/services` },
      { name: "Projects", url: `/${lang}/projects` },
      { name: "About", url: `/${lang}/about` },
      { name: "Contact", url: `/${lang}/contact` }
    ],
    heroTitle: "Building Tomorrow With Precision",
    heroSubtitle: "Excellence in Construction",
    heroText: "We build structures that stand the test of time with cutting-edge technology, innovative methods, and unmatched craftsmanship.",
    heroButton: "Our Services",
    learnMoreButton: "Learn More",
    experienceStat: "Years of Experience",
    projectsStat: "Completed Projects",
    services: {
      title: "Our Services",
      subtitle: "What We Offer",
      items: [
        {
          title: "Residential Construction",
          description: "Luxury homes and residential complexes built with precision and care.",
          image: "/images/services/residential.jpg",
          link: `/${lang}/services`
        },
        {
          title: "Commercial Projects",
          description: "Office buildings, retail spaces, and commercial facilities designed for success.",
          image: "/images/services/commercial.jpg",
          link: `/${lang}/services`
        },
        {
          title: "Industrial Facilities",
          description: "Manufacturing plants, warehouses, and industrial complexes built to specification.",
          image: "/images/services/industrial.jpg",
          link: `/${lang}/services`
        },
        {
          title: "Infrastructure",
          description: "Roads, bridges, and public works projects that connect communities.",
          image: "/images/services/infrastructure.jpg",
          link: `/${lang}/services`
        }
      ]
    },
    projects: {
      title: "Featured Projects",
      viewAll: "View All Projects",
      items: [
        {
          title: "Al Noor Tower",
          category: "Commercial",
          image: "/images/projects/project1.jpg",
          link: `/${lang}/projects/al-noor-tower`
        },
        {
          title: "Harmony Residences",
          category: "Residential",
          image: "/images/projects/project2.jpg",
          link: `/${lang}/projects/harmony-residences`
        },
        {
          title: "Horizon Industrial Complex",
          category: "Industrial",
          image: "/images/projects/project3.jpg",
          link: `/${lang}/projects/horizon-industrial`
        }
      ]
    },
    whyChooseUs: {
      title: "Why Choose Us",
      items: [
        {
          title: "Quality Craftsmanship",
          description: "We bring precision and attention to detail to every aspect of construction."
        },
        {
          title: "Innovative Solutions",
          description: "Using cutting-edge technology and methods to deliver exceptional results."
        },
        {
          title: "Timely Delivery",
          description: "We understand the importance of completing projects on schedule."
        },
        {
          title: "Customer Satisfaction",
          description: "Your vision and requirements are our top priority throughout the process."
        }
      ]
    },


    
    callToAction: {
      title: "Ready to Start Your Project?",
      text: "Contact us today to discuss your construction needs and get a free consultation.",
      buttonText: "Contact Us"
    },
    clientLogos: {
      title: "Trusted by Industry Leaders",
      subtitle: "We partner with the best in the construction industry",
    }

  },
  ar: {
    title: "بريسيجن كرافتس - التميز في البناء",
    description: "بناء المستقبل بدقة وتميز",
    navLinks: [
      { name: "الرئيسية", url: `/${lang}/` },
      { name: "الخدمات", url: `/${lang}/services` },
      { name: "المشاريع", url: `/${lang}/projects` },
      { name: "من نحن", url: `/${lang}/about` },
      { name: "اتصل بنا", url: `/${lang}/contact` }
    ],
    heroTitle:"بناء الغد بحرفية ودقة "  ,
    heroSubtitle: "التميز في البناء",
    heroText: "نبني وفق أعلى معايير الجودة، مستخدمين أحدث التقنيات وأساليب مبتكرة"   ,
    heroButton: "خدماتنا",
    learnMoreButton: "اعرف المزيد",
    experienceStat: "سنة من الخبرة",
    projectsStat: "مشروع مكتمل",
    services: {
      title: "خدماتنا",
      subtitle: "ما نقدمه هو مجموعة من الخدمات المتكاملة في كل ما يتعلق بالبناء",
      items: [
        {
          title: "البناء السكني",
          description: " منازل فاخرة ومجمعات سكنية مبنية بدقة واهتمام تلبي جميع الاحتياجات.",
          image: "/images/services/residential.jpg",
          link: `/${lang}/services`
        },
        {
          title: "المشاريع التجارية",
          description: "مباني المكاتب والمساحات التجارية والمرافق التجارية المصممة للنجاح.",
          image: "/images/services/commercial.jpg",
          link: `/${lang}/services`
        },
        {
          title: "المنشآت الصناعية",
          description: "مصانع ومستودعات ومجمعات صناعية مبنية حسب المواصفات.",
          image: "/images/services/industrial.jpg",
          link: `/${lang}/services`
        },
        {
          title: "البنية التحتية",
          description: "مشاريع الطرق والجسور والأشغال العامة التي تربط المجتمعات.",
          image: "/images/services/infrastructure.jpg",
          link: `/${lang}/services`
        }
      ]
    },
    projects: {
      title: "مشاريع مميزة",
      viewAll: "عرض جميع المشاريع",
      items: [
        {
          title: "برج النور",
          category: "تجاري",
          image: "/images/projects/project1.jpg",
          link: `/${lang}/projects/al-noor-tower`
        },
        {
          title: "هارموني ريزيدنسز",
          category: "سكني",
          image: "/images/projects/project2.jpg",
          link: `/${lang}/projects/harmony-residences`
        },
        {
          title: "مجمع هورايزن الصناعي",
          category: "صناعي",
          image: "/images/projects/project3.jpg",
          link: `/${lang}/projects/horizon-industrial`
        }
      ]
    },
    whyChooseUs: {
      title: "لماذا تختارنا",
      items: [
        {
          title: "حرفية عالية الجودة",
          description: "نحن نقدم الدقة والاهتمام بالتفاصيل في كل جانب من جوانب البناء."
        },
        {
          title: "حلول مبتكرة",
          description: "استخدام التكنولوجيا والأساليب المتطورة لتقديم نتائج استثنائية."
        },
        {
          title: "التسليم في الوقت المحدد",
          description: "نحن نتفهم أهمية إكمال المشاريع في الموعد المحدد."
        },
        {
          title: "رضا العملاء",
          description: "رؤيتك ومتطلباتك هي أولويتنا القصوى طوال العملية."
        }
      ]
    },
    callToAction: {
      title: "هل أنت جاهز لبدء مشروعك؟",
      text: "اتصل بنا اليوم لمناقشة احتياجات البناء الخاصة بك والحصول على استشارة من خبير.",
      buttonText: "اتصل بنا"
    },

    clientLogos: {
      title: "موثوق به من قادة الصناعة",
      subtitle: "نحن نتشارك مع أفضل الشركات في صناعة البناء",}

  }
};

// TypeScript fix: Type assertion for language key
const t = translations[lang as keyof typeof translations] || translations.en;
---

<BaseLayout title={t.title} description={t.description} lang={lang}>
  <!-- NAVBAR - no more passing RTL props, BaseLayout handles it -->
  <Navbar links={t.navLinks} lang={lang} ctaText={t.callToAction.buttonText} />

  <!-- HERO -->
  <Hero
    title={t.heroTitle}
    subtitle={t.heroSubtitle}
    text={t.heroText}
    image="/images/hero3.jpg"
    buttons={[
      { text: t.heroButton, url: `/${lang}/services`, style: 'bg-primary-600 text-white hover:bg-primary-700' },
      { text: t.learnMoreButton, url: `/${lang}/about`, style: 'border border-gray-300 text-gray-700 hover:text-primary-600' }
    ]}
    stats={[
      { value: "+20", label: t.experienceStat },
      { value: "+65", label: t.projectsStat },
      

    ]}
  />


  <!-- SERVICES -->
  <ServicesSection
    title={t.services.title}
    subtitle={t.services.subtitle}
    items={t.services.items}
  />

  <!-- PROJECTS -->
  <ProjectsSection
    title={t.projects.title}
    viewAllText={t.projects.viewAll}
    items={t.projects.items}
    lang={lang}
  />

  <!-- WHY CHOOSE US -->
  <WhyChooseUs
    title={t.whyChooseUs.title}
    items={t.whyChooseUs.items}
  />

  <!-- CLIENT LOGOS -->
  <!-- <LogoSlider
  logos={[
    { src: "/images/companies/aramco.svg", alt: "Company One" },
    { src: "/images/companies/hadeed.svg", alt: "Company Two", url: "https://example.com" },
    { src: "/images/services/infrastructure.png", alt: "Company Three" },
    { src: "/images/logos/logo4.png", alt: "Company Four" },
    { src: "/images/logos/logo5.png", alt: "Company Five" },
    { src: "/images/logos/logo6.png", alt: "Company Six" },
  ]}
  variant="gray"
  lang={lang} 
  scrollSpeed="medium"
/> -->

<!-- <LogoSlider 
  logos={logos}
  variant="gray"
  lang="en"
/>
 -->

  <!-- CALL TO ACTION -->
  <CTASection
    title={t.callToAction.title}
    text={t.callToAction.text}
    buttonText={t.callToAction.buttonText}
    lang={lang}
  />
</BaseLayout>

